"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4192],{34192:function(n,e,t){t.d(e,{G:function(){return R}});var i=t(85893),r=t(3713),a=t(70202),o=t(11163);let s=()=>{var n,e,t,i,s,l,d,u;let c=(0,a.c)({limit:r.Fi}),m=(0,o.useRouter)();if(/^\/$|^\/\?(.*)/.test(null==m?void 0:m.asPath)){let n=null!==(l=null==c?void 0:null===(t=c.types)||void 0===t?void 0:t.find(n=>{var e;return null==n?void 0:null===(e=n.settings)||void 0===e?void 0:e.isHome}))&&void 0!==l?l:null==c?void 0:null===(i=c.types)||void 0===i?void 0:i[0];return{layout:null!==(d=null==n?void 0:null===(s=n.settings)||void 0===s?void 0:s.layoutType)&&void 0!==d?d:"default",page:n}}let g=null==c?void 0:null===(n=c.types)||void 0===n?void 0:n.find(n=>m.asPath.includes(n.slug));return{layout:null!==(u=null==g?void 0:null===(e=g.settings)||void 0===e?void 0:e.layoutType)&&void 0!==u?u:"default",page:g}};var l=t(1279),d=t(25473),u=t(15149),c=t(36808),m=t(7297),g=t(17283),p=t(37887);function f(){let n=(0,m.Z)(["\n    fragment StoreNoticeParts on StoreNotice {\n  id\n  priority\n  notice\n  description\n  effective_from\n  expired_at\n  type\n  created_by\n  updated_by\n  created_at\n  updated_at\n  is_read\n  creator_role\n  creator {\n    id\n    name\n    permissions {\n      id\n      name\n    }\n  }\n  users {\n    id\n    name\n    email\n  }\n  shops {\n    id\n    owner_id\n    name\n    slug\n  }\n  read_status {\n    id\n    name\n    email\n    pivot {\n      store_notice_id\n      user_id\n      is_read\n    }\n  }\n}\n    "]);return f=function(){return n},n}function v(){let n=(0,m.Z)(["\n    fragment PaginatorParts on PaginatorInfo {\n  count\n  currentPage\n  firstItem\n  hasMorePages\n  lastItem\n  lastPage\n  perPage\n  total\n}\n    "]);return v=function(){return n},n}function h(){let n=(0,m.Z)(["\n    query StoreNotices($text: String, $shop_id: ID, $id: ID, $language: String, $orderBy: String, $sortedBy: String, $first: Int!, $page: Int) {\n  storeNotices(\n    text: $text\n    shop_id: $shop_id\n    id: $id\n    sortedBy: $sortedBy\n    language: $language\n    orderBy: $orderBy\n    first: $first\n    page: $page\n  ) {\n    data {\n      ...StoreNoticeParts\n    }\n    paginatorInfo {\n      ...PaginatorParts\n    }\n  }\n}\n    ","\n",""]);return h=function(){return n},n}let x={},y=(0,g.Ps)(f()),_=(0,g.Ps)(v()),w=(0,g.Ps)(h(),y,_),P=n=>{var e,t;let{shop_id:i}=n,{locale:r}=(0,o.useRouter)(),{data:a,loading:s,error:l}=function(n){let e={...x,...n};return p.a(w,e)}({variables:{shop_id:i,language:r,first:10,orderBy:"effective_from",sortedBy:"ASC",page:1},notifyOnNetworkStatusChange:!0});return{storeNotices:null!==(t=null==a?void 0:null===(e=a.storeNotices)||void 0===e?void 0:e.data)&&void 0!==t?t:[],error:l,loading:s}};t(67294);var $=t(98130);let b=n=>{let{days:e,hours:t,minutes:r,seconds:a,completed:o}=n;return o?"Ended":(0,i.jsx)("div",{className:"inline-block",children:e?(0,i.jsxs)("div",{className:"mx-1 inline-flex min-h-[30px] min-w-[30px] shrink-0 items-center justify-center gap-1 p-1 font-medium text-white md:mx-1.5 md:min-w-[36px]",children:[e>1?(0,$.Bu)(e):e,(0,i.jsx)("span",{className:"truncate",children:1===e?"day":"days"})]}):(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"mx-1 inline-flex min-h-[30px] min-w-[30px] shrink-0 items-center justify-center rounded bg-white p-1 font-medium text-black md:mx-1.5 md:min-w-[36px]",children:(0,$.Bu)(t)}),":",(0,i.jsx)("div",{className:"mx-1 inline-flex min-h-[30px] min-w-[30px] shrink-0 items-center justify-center rounded bg-white p-1 font-medium text-black md:mx-1.5 md:min-w-[36px]",children:(0,$.Bu)(r)}),":",(0,i.jsx)("div",{className:"mx-1 inline-flex min-h-[30px] min-w-[30px] shrink-0 items-center justify-center rounded bg-white p-1 font-medium text-black md:mx-1.5 md:min-w-[36px]",children:(0,$.Bu)(a)})]})})},j=n=>{let{date:e}=n;return(0,i.jsx)($.ZP,{date:e,renderer:b})};var N=t(70178),B=t.n(N),S=t(28817),I=t(27484),k=t.n(I),Z=t(68856);k().extend(B());let C=n=>{let{notice:e}=n,{t}=(0,Z.$G)(),[r,a]=(0,S.Z)("highlightedBar","false"),o=new Date(null==e?void 0:e.expired_at);return o.setHours(o.getHours()+6),(0,i.jsx)(i.Fragment,{children:"true"!==r&&(0,i.jsxs)("div",{className:"relative w-full items-center justify-center bg-accent px-4 pt-3 pb-3.5 text-sm text-white md:px-6 lg:px-8",children:[(0,i.jsxs)("div",{className:"text-center ltr:pr-4 rtl:pl-4",children:[e.description," ",(null==e?void 0:e.expired_at)&&(0,i.jsxs)(i.Fragment,{children:["-"," ",t("text-expired-at"),(0,i.jsx)(j,{date:o})]})]}),(0,i.jsx)("button",{onClick:()=>a("true"),"aria-label":"Close Button",className:"absolute flex items-center justify-center transition-colors duration-200 rounded-full outline-none top-3 h-7 w-7 hover:bg-white hover:bg-opacity-10 focus:bg-opacity-10 focus:text-white ltr:right-0 ltr:mr-2 rtl:left-0 rtl:ml-2 md:h-8 md:w-8 md:ltr:mr-3 md:rtl:ml-3",children:(0,i.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",className:"w-6 h-6",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})})]})})},M=()=>{let{query:{slug:n}}=(0,o.useRouter)(),{data:e}=(0,c.L)({slug:n}),t=null==e?void 0:e.id,{storeNotices:r}=P({shop_id:"".concat(t)});return(0,i.jsx)(i.Fragment,{children:r.length>0?(0,i.jsx)("div",{className:"relative",children:r.map((n,e)=>(0,i.jsx)(C,{notice:n},e))}):null})};var L=t(5152),q=t.n(L);let D=q()(()=>t.e(4027).then(t.bind(t,14027)),{loadableGenerated:{webpack:()=>[14027]},ssr:!1});function F(n){let{children:e}=n,{layout:t}=s(),r=(0,o.useRouter)();return(0,i.jsxs)("div",{className:"flex min-h-screen flex-col bg-gray-100 transition-colors duration-150",children:[r.query.slug&&(0,i.jsx)(M,{}),["minimal","compact"].includes(t)?(0,i.jsx)(d.Z,{layout:t}):(0,i.jsx)(l.Z,{layout:t}),e,["compact"].includes(t)&&(0,i.jsx)(u.Z,{}),(0,i.jsx)(D,{})]})}let R=n=>(0,i.jsx)(F,{children:n})},36808:function(n,e,t){t.d(e,{L:function(){return h},A:function(){return v}});var i=t(7297),r=t(17283),a=t(37887);function o(){let n=(0,i.Z)(["\n    fragment ShopParts on Shop {\n  id\n  name\n  slug\n  owner_id\n  owner {\n    name\n    email\n    profile {\n      contact\n    }\n  }\n  staffs {\n    name\n    email\n  }\n  description\n  logo {\n    id\n    thumbnail\n    original\n  }\n  cover_image {\n    id\n    thumbnail\n    original\n  }\n  orders_count\n  products_count\n  is_active\n  balance {\n    admin_commission_rate\n    total_earnings\n    withdrawn_amount\n    current_balance\n    payment_info {\n      account\n      name\n      bank\n      email\n    }\n  }\n  address {\n    street_address\n    country\n    city\n    state\n    zip\n  }\n  created_at\n}\n    "]);return o=function(){return n},n}function s(){let n=(0,i.Z)(["\n    fragment PaginatorParts on PaginatorInfo {\n  count\n  currentPage\n  firstItem\n  hasMorePages\n  lastItem\n  lastPage\n  perPage\n  total\n}\n    "]);return s=function(){return n},n}function l(){let n=(0,i.Z)(["\n    query Shops($text: String, $orderBy: String, $sortedBy: String, $first: Int = 10, $page: Int, $is_active: Boolean) {\n  shops(\n    first: $first\n    page: $page\n    text: $text\n    orderBy: $orderBy\n    sortedBy: $sortedBy\n    is_active: $is_active\n  ) {\n    data {\n      ...ShopParts\n    }\n    paginatorInfo {\n      ...PaginatorParts\n    }\n  }\n}\n    ","\n",""]);return l=function(){return n},n}function d(){let n=(0,i.Z)(["\n    query Shop($id: ID, $slug: String) {\n  shop(id: $id, slug: $slug) {\n    ...ShopParts\n    settings {\n      socials {\n        icon\n        url\n      }\n      website\n      contact\n      location {\n        lat\n        lng\n        formattedAddress\n        city\n        state\n        country\n        zip\n      }\n    }\n  }\n}\n    ",""]);return d=function(){return n},n}let u={},c=(0,r.Ps)(o()),m=(0,r.Ps)(s()),g=(0,r.Ps)(l(),c,m),p=(0,r.Ps)(d(),c);var f=t(1644);function v(n){var e,t,i,r,o;let{data:s,loading:l,error:d,fetchMore:c,networkStatus:m}=function(n){let e={...u,...n};return a.a(g,e)}({variables:{is_active:!0},notifyOnNetworkStatusChange:!0});return{shops:null!==(o=null==s?void 0:null===(e=s.shops)||void 0===e?void 0:e.data)&&void 0!==o?o:[],paginatorInfo:null==s?void 0:null===(t=s.shops)||void 0===t?void 0:t.paginatorInfo,isLoading:l,error:d,isLoadingMore:m===f.I.fetchMore,loadMore:function(){var n,e,t;(null==s?void 0:null===(n=s.shops)||void 0===n?void 0:n.paginatorInfo.hasMorePages)&&c({variables:{page:(null==s?void 0:null===(e=s.shops)||void 0===e?void 0:null===(t=e.paginatorInfo)||void 0===t?void 0:t.currentPage)+1}})},hasMore:Boolean(null==s?void 0:null===(i=s.shops)||void 0===i?void 0:null===(r=i.paginatorInfo)||void 0===r?void 0:r.hasMorePages)}}let h=n=>{var e;let{slug:t}=n,{data:i,loading:r,error:o}=function(n){let e={...u,...n};return a.a(p,e)}({variables:{slug:t},notifyOnNetworkStatusChange:!0});return{data:null!==(e=null==i?void 0:i.shop)&&void 0!==e?e:[],loading:r,error:o}}}}]);